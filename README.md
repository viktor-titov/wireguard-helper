# Wireguard Helper


чтобы создать клиента нужно

- [x] получить публичный ключ сервера
    как это сделтаь 
        можно прочитать файл 
        получить по пайпу из предыдущей команды
        все 


- [x] дальше надо сгенерировать приватный и публичные ключи для клинета

- [x] *сходили по апи и получили ip* еще* нам надо понять IP сервера 

- [x] **только пока нет адреса внутренней сети.** дальше создать наверно файл для клинета.

- [x] **тут сгенерим файл части конфига и другими утлитами засуним туда.** далее обновить основной конфиг сервера

- ну и последнее отправить на почту пользователя конфиг. хм а может разделить операцию создания и отправки вдруг понадобитсья просто конфиг нагенерить без отправки по мылу.
    лучше это отдельной командой с указанием файла и мыла


- а не еще рестартануть сервер...... но тут возможно ручками. да ручками будет лучше


шаблон клиента
```
[Interface]
PrivateKey = <CLIENT-PRIVATE-KEY>
Address = 10.0.0.2/32
DNS = 8.8.8.8

[Peer]
PublicKey = <SERVER-PUBKEY>
Endpoint = <SERVER-IP>:51830
AllowedIPs = 0.0.0.0/0
PersistentKeepalive = 20
```

шаблон сервера
```
[Interface]
Address = 10.8.0.1/24
PrivateKey = SERVER_PRIVATE_KEY
ListenPort = 35053

[Peer]
PublicKey = CLIENT_PUBLIC_KEY
AllowedIPs = 10.8.0.2/32
```